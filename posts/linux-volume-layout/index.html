<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="Volume layout"><meta property="og:description" content="Linux FHS with LVM2"><meta property="og:type" content="article"><meta property="og:url" content="https://cgerull.github.io/techinfo/posts/linux-volume-layout/"><meta property="article:published_time" content="2014-03-01T00:00:00+00:00"><meta property="article:modified_time" content="2014-03-01T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Volume layout"><meta name=twitter:description content="Linux FHS with LVM2"><meta name=generator content="Hugo 0.101.0"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Volume layout","url":"https://cgerull.github.io/techinfo/posts/linux-volume-layout/","wordCount":"308","datePublished":"2014-03-01T00:00:00+00:00","dateModified":"2014-03-01T00:00:00+00:00","author":{"@type":"Person","name":null},"keywords":"Linux, File System, Installation, Logical Volumes","description":"Linux FHS with LVM2"}</script><link rel=canonical href=https://cgerull.github.io/techinfo/posts/linux-volume-layout/><title>Volume layout | techinfo.gerull.nl</title><link href=https://cgerull.github.io/techinfo/css/style.beb8012edc08ba10be012f079d618dc243812267efe62e11f22fe49618f976a4.css rel=stylesheet integrity="sha256-vrgBLtwIuhC+AS8HnWGNwkOBImfv5i4R8i/klhj5dqQ=" crossorigin=anonymous><script defer src=https://cgerull.github.io/techinfo/js/fontawesome.min.f5072c55a0721857184db93a50561d7dc13975b4de2e19db7f81eb5f3fa57270.js integrity="sha256-9QcsVaByGFcYTbk6UFYdfcE5dbTeLhnbf4HrXz+lcnA=" crossorigin=anonymous></script></head><body><div class=blog-masthead><div class=container><nav class="nav blog-nav"><a class=nav-link href=https://cgerull.github.io/techinfo>Home</a></nav></div></div><header class=blog-header><div class=container><h1 class=blog-title dir=auto><a href=https://cgerull.github.io/techinfo rel=home>techinfo.gerull.nl</a></h1></div></header><div class=container><div class=row><div class="col-sm-8 blog-main"><article class=blog-post><header><h2 class=blog-post-title dir=auto><a href=https://cgerull.github.io/techinfo/posts/linux-volume-layout/>Volume layout</a></h2><p class=blog-post-meta><time datetime=2014-03-01T00:00:00Z>Sat Mar 1, 2014</time>
in
<span class="fas fa-folder" aria-hidden=true></span>&nbsp;<a href=/categories/linux/ rel="category tag">Linux</a>
<span class="fas fa-tag" aria-hidden=true></span>&nbsp;<a href=/tags/file-system/ rel=tag>File System</a>, <a href=/tags/installation/ rel=tag>Installation</a>, <a href=/tags/linux/ rel=tag>Linux</a>, <a href=/tags/logical-volumes/ rel=tag>Logical Volumes</a></p></header><p>Here&rsquo;s my personal preference for an allround Linux box. The following volume
layout is a baseline. If the machine is a server reduce /home and add much more
to /var where normally you data lives. For a development box increase /home
for all your projects.</p><p>I use the lvm2 package, so these commands use the most common options.</p><h2 id=first-harddrive>First harddrive</h2><h3 id=prepare-the-disk-with-fdisk-devsda>Prepare the disk with fdisk /dev/sda</h3><ol><li>Use fdisk /dev/sda to partion your first drive</li></ol><ul><li>/dev/sda1 > /boot ext3, 256MB<ul><li>/dev/sda2 > Linux LVM (8e), rest of the drive</li></ul></li></ul><h3 id=chop-lvm-partion-into-volumes-with-lvm2-tools>Chop LVM partion into volumes with lvm2 tools</h3><ol><li>pvcreate /dev/sda2 # create the physical volume</li><li>vgcreate vg0 /dev/sda # create one volume group for the system volumes</li><li>lvcreate -L 2G - n root vg0 # format as ext3 and mount on /</li><li>lvcreate -L &lt;depending on memory and disksize> -n swap vg0 # use as swaparea</li><li>lvcreate -L 2G -n usr vg0 # format as ext3 mount on /usr</li><li>lvcreate -L 512M -n tmp -vg0 # format as ext3, mount on /tmp</li><li>lvcreate -L &lt;512M - 2G> -n home vg0 # format as ext3, mount on /home</li><li>lvcreate -L 256M -n opt vg0 # format as ext3, mount on /opt</li><li>lvcreate -L 512M -n usrlocal vg0 # format as ext3, mount on /usrlocal</li><li>lvcreate -L &lt;1G - nG> -n var vg0 # format as ext3, mount on /var</li></ol><h2 id=additional-harddisks>Additional harddisks</h2><p>When you install / assign more than one drive you can must create a LVM partiton with fdisk and then you can extend the physical volume. It&rsquo;s up to you to extend the volume group too or create a second vg.
In case of extenting the first vg you can extent the logical volume where the space is needed. If you have installed an application you can also dedicate a logical volume to that application and mount it where approbiate.</p><hr><footer><section><h4>Share</h4><nav class="nav sharing-icons"><a class=nav-item href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcgerull.github.io%2ftechinfo%2fposts%2flinux-volume-layout%2f" title="Share on Facebook"><span class="fab fa-facebook-f fa-2x" aria-hidden=true></span></a>
<a class=nav-item href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcgerull.github.io%2ftechinfo%2fposts%2flinux-volume-layout%2f" title="Share on LinkedIn"><span class="fab fa-linkedin-in fa-2x" aria-hidden=true></span></a>
<a class=nav-item href="https://twitter.com/intent/tweet?url=https%3a%2f%2fcgerull.github.io%2ftechinfo%2fposts%2flinux-volume-layout%2f&text=Volume%20layout" title="Tweet this"><span class="fab fa-twitter fa-2x"></span></a></nav></section></footer></article></div><aside class="col-sm-3 ml-auto blog-sidebar"></aside></div></div><footer class=blog-footer><p dir=auto>Blog template created by <a href=https://twitter.com/mdo>@mdo</a>, ported to Hugo by <a href=https://twitter.com/mralanorth>@mralanorth</a>.</p><p><a href=#>Back to top</a></p></footer></body></html>