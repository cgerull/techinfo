<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Volume layout</title><style>html body{font-family:'',sans-serif;background-color:#fff}:root{--accent:red;--border-width:0}</style><link rel=stylesheet href=https://cgerull.github.io/techinfo/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family="><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script>$(document).on("click",function(){$(".collapse").collapse("hide")})</script><meta name=generator content="Hugo 0.101.0"><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class=container><div class=navbar-header><a class="navbar-brand visible-xs" href=#>Volume layout</a>
<button class=navbar-toggle data-target=.navbar-collapse data-toggle=collapse>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href=/techinfo/posts/>Home</a></li><li><a href=/techinfo/about/>About</a></li></ul></div></div></nav><main><div><h2>Volume layout</h2><h5>Linux FHS with LVM2</h5><a href=https://cgerull.github.io/techinfotags/file-system><kbd class=item-tag>File System</kbd></a>
<a href=https://cgerull.github.io/techinfotags/installation><kbd class=item-tag>Installation</kbd></a>
<a href=https://cgerull.github.io/techinfotags/linux><kbd class=item-tag>Linux</kbd></a>
<a href=https://cgerull.github.io/techinfotags/logical-volumes><kbd class=item-tag>Logical Volumes</kbd></a></div><div align=start class=content><p>Here&rsquo;s my personal preference for an allround Linux box. The following volume
layout is a baseline. If the machine is a server reduce /home and add much more
to /var where normally you data lives. For a development box increase /home
for all your projects.</p><p>I use the lvm2 package, so these commands use the most common options.</p><h2 id=first-harddrive>First harddrive</h2><h3 id=prepare-the-disk-with-fdisk-devsda>Prepare the disk with fdisk /dev/sda</h3><ol><li>Use fdisk /dev/sda to partion your first drive</li></ol><ul><li>/dev/sda1 > /boot ext3, 256MB<ul><li>/dev/sda2 > Linux LVM (8e), rest of the drive</li></ul></li></ul><h3 id=chop-lvm-partion-into-volumes-with-lvm2-tools>Chop LVM partion into volumes with lvm2 tools</h3><ol><li>pvcreate /dev/sda2 # create the physical volume</li><li>vgcreate vg0 /dev/sda # create one volume group for the system volumes</li><li>lvcreate -L 2G - n root vg0 # format as ext3 and mount on /</li><li>lvcreate -L &lt;depending on memory and disksize> -n swap vg0 # use as swaparea</li><li>lvcreate -L 2G -n usr vg0 # format as ext3 mount on /usr</li><li>lvcreate -L 512M -n tmp -vg0 # format as ext3, mount on /tmp</li><li>lvcreate -L &lt;512M - 2G> -n home vg0 # format as ext3, mount on /home</li><li>lvcreate -L 256M -n opt vg0 # format as ext3, mount on /opt</li><li>lvcreate -L 512M -n usrlocal vg0 # format as ext3, mount on /usrlocal</li><li>lvcreate -L &lt;1G - nG> -n var vg0 # format as ext3, mount on /var</li></ol><h2 id=additional-harddisks>Additional harddisks</h2><p>When you install / assign more than one drive you can must create a LVM partiton with fdisk and then you can extend the physical volume. It&rsquo;s up to you to extend the volume group too or create a second vg.
In case of extenting the first vg you can extent the logical volume where the space is needed. If you have installed an application you can also dedicate a logical volume to that application and mount it where approbiate.</p></div></main><footer><p class="copyright text-muted">Â© 2022 C. Gerull All rights reserved. Powered by <a href=https://gohugo.io>Hugo</a> and <a href=https://github.com/calintat/minimal>Minimal</a>.</p></footer></body></html>